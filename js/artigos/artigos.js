const artigos = [
    {
        "linkPaginaHtml": "publicacoes/publicacao3/publicacao3.html",
        "fotoNoticia" :	"publicacoes/publicacao3/foto1.jpg",
        "tituloDaNoticia":	" - DEFINIÇÃO DE ENGENHARIA COMO UM INSTRUMENTO DO ESTADO",
        "corpoTituloDaNoticia" : "📢 Publicação | A DEFINIÇÃO DE ENGENHARIA COMO UM INSTRUMENTO DO ESTADO",
        "dataNoticia": "15.07.2024",
        "tipo":"publicacao"
    },
    
    {
        "linkPaginaHtml": "noticias/noticia19/noticia19.html",
        "fotoNoticia" :	"noticias/noticia19/foto1.jpg",
        "tituloDaNoticia":	" - SINAEG Participa de Evento do Corecon-DF",
        "corpoTituloDaNoticia" : "📢 Notícia | SINAEG Participa de Evento do Corecon-DF sobre Financiamento Público Bancário para o Desenvolvimento Regional",
        "dataNoticia": "11.07.2024",
        "tipo":"noticia"
    },
    
    {
       "linkPaginaHtml": "noticias/noticia18/noticia18.html",
       "fotoNoticia" :	"noticias/noticia18/foto1.jpg",
       "tituloDaNoticia":	" - SINAEG e SPU-MGI Realizam Reunião",
       "corpoTituloDaNoticia" :"📢 Notícia | SINAEG e SPU-MGI Realizam Reunião para Fortalecer Parceria e Valorizar Servidores da ERCE",
       "dataNoticia": "10.07.2024",
       "tipo":"noticia"
    },
    {
        "linkPaginaHtml": "noticias/noticia17/noticia17.html",
        "fotoNoticia" :	"noticias/noticia17/foto1.jpg",
        "tituloDaNoticia":	" - Novo Acordo com Governo",
        "corpoTituloDaNoticia" :" 📢 Notícia | SINAEG Assina Novo Acordo com Governo: Um Passo nas Negociações",
        "dataNoticia": "04.07.2024",
        "tipo":"noticia"
    },
    {
        "linkPaginaHtml": "noticias/noticia16/noticia16.html",
        "fotoNoticia" :	"noticias/noticia16/foto1.jpg",
        "tituloDaNoticia" : " - Reposição Salarial Assinada!",
        "corpoTituloDaNoticia" : "📢 Notícia | Vitória dos Servidores da ERCE: Reposição Salarial Assinada!⭐",
        "dataNoticia": "03.07.2024",
        "tipo":"noticia"
    },
    {
        "linkPaginaHtml": "noticias15.html",
        "fotoNoticia" : "img/noticias/fotos2/fotos15.jpg",
        "tituloDaNoticia" : " - Avanços nas Negociações Salariais!",
        "corpoTituloDaNoticia" : "📢 *ATENÇÃO, Avanços nas Negociações Salariais: Atualização sobre a Reunião com o Governo*",
        "dataNoticia": "19.06.2024",
        "tipo":"noticia"
    },
    {
        "linkPaginaHtml": "noticias14.html",
        "fotoNoticia" : "img/noticias/fotos2/fotos13.jpg",
        "tituloDaNoticia" : " - Reforma Tributária na Câmara",
        "corpoTituloDaNoticia" : "Direito dos Trabalhadores em Discussão sobre Reforma Tributária na Câmara dos Deputados",
        "dataNoticia": "25.06.2024",
        "tipo":"noticia"
    },
    {
        "linkPaginaHtml": "noticias13.html",
        "fotoNoticia" : "img/noticias/fotos2/fotos12.jpg",
        "tituloDaNoticia" : " - 📢 *ATENÇÃO, SINAEG e CONDSEF",
        "corpoTituloDaNoticia" : "SINAEG e CONDSEF protocolam Complementação de Informações Técnicas na SRT/MGI",
        "dataNoticia": "21.06.2024",
        "tipo":"noticia"
    },
    {
        "linkPaginaHtml": "noticias12.html",
        "fotoNoticia" : "img/noticias/fotos2/fotos11.jpg",
        "tituloDaNoticia" : " - Reunião com o Governo",
        "corpoTituloDaNoticia" : "📢 *ATENÇÃO, Avanços nas Negociações Salariais: Atualização sobre a Reunião com o Governo*",
        "dataNoticia":"19.06.2024"
    },
    {
        "linkPaginaHtml": "noticias11.html",
        "fotoNoticia" : "img/noticias/fotos2/fotos14.jpg",
        "tituloDaNoticia" : " - Assembleia Extraordinária do SINAEG",
        "corpoTituloDaNoticia" : "📢 *ATENÇÃO, SERVIDORES DO SINAEG!*,transferência da Assembleia Extraordinária do SINAEG para 19 de Junho*",
        "dataNoticia":"19.06.2024",
        "tipo":"noticia"
    },
    {
        "linkPaginaHtml": "noticias10.html",
        "fotoNoticia" : "img/noticias/noticias10/fotos1.jpg",
        "tituloDaNoticia" : " - Notícia de Última Hora!*",
        "corpoTituloDaNoticia" : "📢 *Notícia de Última Hora!*",
        "dataNoticia":"12.06.2024",
        "tipo":"noticia"
    },
    {
        "linkPaginaHtml": "noticias9.html",
        "fotoNoticia" : "img/noticias/noticias9/fotos1.jpg",
        "tituloDaNoticia" : " - APOIO DA ASSEMAE AO SINAEG",
        "corpoTituloDaNoticia" : "📢 *Proposta de Moção - APOIO DA ASSEMAE AO SINAEG*",
        "dataNoticia":"10.06.2024",
        "tipo":"noticia"
    },
    {
        "linkPaginaHtml": "noticias8.html",
        "fotoNoticia" : "img/noticias/noticias8/fotos1.jpg",
        "tituloDaNoticia" : " - SINAEG REPUDIA DESVALORIZAÇÃO",
        "corpoTituloDaNoticia" : "📢 *ATENÇÃO, SINAEG REPUDIA DESVALORIZAÇÃO DO GOVERNO E ENQUADRAMENTO INJUSTO A SUPORTE ADMINISTRATIVO",
        "dataNoticia":"10.05.2024",
        "tipo":"noticia"
    },
    {
        "linkPaginaHtml": "publicacoes/publicacao2/publicacao2.html",
        "fotoNoticia" :	"publicacoes/publicacao2/foto1.jpg",
        "tituloDaNoticia":	" - Carta Aberta ao Presidente Lula",
        "corpoTituloDaNoticia" : "📢 Publicação | Carta Aberta ao Presidente Lula",
        "dataNoticia": "20.06.2024",
        "tipo":"publicacao"
    }
    ,
    {
        "linkPaginaHtml": "publicacoes/publicacao1/publicacao1.html",
        "fotoNoticia" :	"publicacoes/publicacao1/foto1.jpg",
        "tituloDaNoticia":	" - AS CIDADES ESPONJAS E A ENGENHARIA PÚBLICA",
        "corpoTituloDaNoticia" : "📢 Publicação | AS CIDADES ESPONJAS E A ENGENHARIA PÚBLICA",
        "dataNoticia": "14.06.2024",
        "tipo":"publicacao"
    }
];




document.addEventListener('DOMContentLoaded', function() { 
    carregarNoticiasIndex();
});


function carregarPublicacoes() {

    const divPublicacoes = document.getElementById('divPublicacoes');

    if(divPublicacoes !== null){
        
        const somentePublicacoes = artigos.filter(artigo => artigo.tipo === "publicacao");
        
        var result = "<div class='row extra'>";
        somentePublicacoes.forEach((noticia,index) => {           
            result += "<div class='col-12 col-xl-6'>";   
            for(var i = 0 ; i <=1 ; i++){                  
                    if(i === 0 && index % 2 === 0) {
                        result += montarArtigos(noticia,index);
                    } else if(i === 1 && index % 2 !== 0) {
                        result += montarArtigos(noticia,index);
                    }                                                              
                }  
            result += "</div>";
            
        });
        result += "</div>";

        divPublicacoes.innerHTML = result;
    }

}

function carregarNoticias() {

    const divNoticias = document.getElementById('divNoticias');

    if(divNoticias !== null){
        
        const somenteNoticias = artigos.filter(artigo => artigo.tipo === "noticia");
        
        var result = "<div class='row extra'>";
        somenteNoticias.forEach((noticia,index) => {           
            result += "<div class='col-12 col-xl-6'>";   
            for(var i = 0 ; i <=1 ; i++){                  
                    if(i === 0 && index % 2 === 0) {
                        result += montarArtigos(noticia,index);
                    } else if(i === 1 && index % 2 !== 0) {
                        result += montarArtigos(noticia,index);
                    }                                                              
                }  
            result += "</div>";
            
        });
        result += "</div>";

        divNoticias.innerHTML = result;
    }

}

function montarArtigos(artigo,index) {
    
    let linkPaginaHtml = `${artigo.linkPaginaHtml}`;
    let fotoNoticia = `${artigo.fotoNoticia}`;
    let tituloDaNoticia = `${artigo.tituloDaNoticia}`;
    let corpoTituloDaNoticia = `${artigo.corpoTituloDaNoticia}`;
    let dataNoticia = `${artigo.dataNoticia}`;

    const jsonArtigo = encodeURIComponent(JSON.stringify(artigo));
    
    var result = "<div id='idNoticia"+index+"'></div>";                            
    result +=  "<div class='row element'>";						
        result += "<div class='col-auto col-destaques-resp'>";
        result += "<a class='nolink' style='color:#1A76D1;' href='"+linkPaginaHtml+"?artigo="+jsonArtigo+"'>";
            result += "<img class='img-destaque'";
                result += "src='"+fotoNoticia+"'";
                result += "alt='"+corpoTituloDaNoticia+"'";
                result += "title='"+corpoTituloDaNoticia+"'>";
                result += "<div class='box-red notice-title  ajusteMobile' style='width: 100% !important;'>";
                result += tituloDaNoticia
                    result += "</div>";
        result += "</a>";
        result += "</div>";
        result += "<div class='col box-index-noticia'>";
            result += "<a class='nolink' style='color:#1A76D1;' href='"+linkPaginaHtml+"?artigo="+jsonArtigo+"'>";
                    result += "<div class='box-index-noticia-titulo'>";
                            result += corpoTituloDaNoticia;
                    result += "</div>";
            result += "</a>";
                result += "<div class='element-date green-color'>";
                    result += "<span style='float: left;'>"+dataNoticia+"</span>";
                    result += "<a class='nolink red-color' href='"+linkPaginaHtml+"?artigo="+jsonArtigo+"'><span style='float: right;'>Leia mais</span></a>";
                result += "</div>";
        result += "</div>";							
    result += "</div>";
    result += "<br/>";

    return result;
}

function carregarNoticiasIndex(){
    const divNoticiasIndex = document.getElementById('divNoticiasIndex');
  
    if(divNoticiasIndex !== null){
        const seisPrimeirasNoticias = artigos.slice(0, 6);

           var result = "<div class='row'>";           
                result += "<div class='col-xl-8 p-xl-1'>";                  
                    result += "<div id='myslide' class='carousel slide' data-ride='carousel'>";                 
                        result += "<ol class='carousel-indicators'>";
                            result += "<li data-target='#myslide' data-slide-to='0' class=' active'></li>";
                            result += "<li data-target='#myslide' data-slide-to='1' class=''></li>";
                            result += "<li data-target='#myslide' data-slide-to='2' class=''></li>";
                        result += "</ol>";                       
                        result += "<div class='carousel-inner'>";                                              
                        seisPrimeirasNoticias.forEach((artigo,index) => {                            
                            if(index >= 0 && index <=2 ){
                                const jsonArtigo = encodeURIComponent(JSON.stringify(artigo));
                                let linkPaginaHtml = `${artigo.linkPaginaHtml}`;
                                let fotoNoticia = `${artigo.fotoNoticia}`;
                                let tituloDaNoticia = `${artigo.tituloDaNoticia}`;
                                let corpoTituloDaNoticia = `${artigo.corpoTituloDaNoticia}`;
                                let dataNoticia = `${artigo.dataNoticia}`;
                                let active = index === 0 ? 'active' : '';
                                result += "<div class='carousel-item  "+active+"'>";					
                                    result += "<div id='idNoticiaPrimaria"+index+"'></div>";							                                   
                                    result +=  "<div class='carousel-caption d-md-block titulo-banner'>";
                                        result += "<div class='text' style='font-size: 16px !important'>";
                                        result += corpoTituloDaNoticia; 
                                        result += "</div>";
                                    result += "</div>";
                                    result += "<a href='"+linkPaginaHtml+"?artigo="+jsonArtigo+"' target='_blank'>";
                                        result += "<div class='carousel-caption carousel-caption-alerta d-md-block text-left'>";
                                            result += "<div class='text-alerta'> "+dataNoticia+tituloDaNoticia+" </div>";
                                        result += "</div>";
                                        result += "<img class='d-block w-100 banner-img'";
                                            result += "src='"+fotoNoticia+"'";
                                            result += "alt='"+corpoTituloDaNoticia+"'";
                                            result += "title='"+corpoTituloDaNoticia+"'>";
                                    result += "</a>";
                                    result += "<div class='carousel-caption-2 d-md-block text-right'>Foto: "+dataNoticia+tituloDaNoticia+"</div>";
                                result += "</div>"; 
                            }
                        });
                        result += "</div>";
                    result += "</div>";
                result += "</div>";
                
              
                result += "<div class='col-xl-4 p-xl-1 notices'>";
                    seisPrimeirasNoticias.forEach((artigo,index) => {    
                        if(index > 2) {
                            const jsonArtigo = encodeURIComponent(JSON.stringify(artigo));
                            let linkPaginaHtml = `${artigo.linkPaginaHtml}`;
                            let fotoNoticia = `${artigo.fotoNoticia}`;
                            let tituloDaNoticia = `${artigo.tituloDaNoticia}`;
                            let corpoTituloDaNoticia = `${artigo.corpoTituloDaNoticia}`;
                            let dataNoticia = `${artigo.dataNoticia}`;
                            result += "<div id='idNoticiaSecundaria"+index+"'></div>";
                            	
                            

                            result += "<a class='nolink' target='_blank' href='"+linkPaginaHtml+"?artigo="+jsonArtigo+"'>";
                                result += "<div class='notice-block' style='border: 1px solid #1A76D1;padding: 4px;'>";
                                    result +=  "<div class='notice-title'> "+dataNoticia+tituloDaNoticia+"</div>";
                                    result +=   "<div class='col-12'>";
                                        result +=   "<div class='row not-dest-condsef'>";
                                        result +=   "<div class='col-5 notice-text'>";
                                                result +=   " <img class='d-block w-100'";
                                                result +=   " src='"+fotoNoticia+"'";
                                                result +=    " alt='"+tituloDaNoticia+"'";
                                                result +=    " title='"+tituloDaNoticia+"'>";
                                            result +=   "</div>";
                                            result +=   "<div class='col-7 notice-text' style='color: black;font-size: 13px !important;'>";
                                                result +=   corpoTituloDaNoticia;
                                            result +=   "</div>";
                                        result +=   "</div>";
                                    result +=   "</div>";
                                result += "</div>";
                            result += "</a>";

                            
                        }
                    });
                    result += "<a href='noticias.html' class='nolink text-right' target='_blank'>";
                        result += "<div class='custom-red-button banner-botton'>MAIS NOTÍCIAS</div>";
                    result += "</a>";
                result += "</div>";
                
            result += "</div>";
        
        divNoticiasIndex.innerHTML = result;
    }           
}


// Function to get query parameters from the URL
function getQueryParams() {
    const params = {};
    const queryString = window.location.search;
    const urlParams = new URLSearchParams(queryString);
    
    urlParams.forEach((value, key) => {
        params[key] = value;
    });

    return params;
}

// Function to display the received parameter
function displayParameter() {
    const params = getQueryParams();

    const jsonArtigo = params.artigo;

    
    // Decode URI component and parse JSON
    const artigo = JSON.parse(decodeURIComponent(jsonArtigo));
     
    const divCorpoTituloDaNoticia = document.getElementById('corpoTituloDaNoticia'); 
    var result = "<h1 class='section-1-title text-center article-limit-width'>";
    result += artigo.corpoTituloDaNoticia;
    result += "</h1>" 
    divCorpoTituloDaNoticia.innerHTML = result;


    const divDataNoticia = document.getElementById('dataNoticia'); 
    var result = "<div>";
    result += "Publicado: " + artigo.dataNoticia;
    result += "</div>" 
    divDataNoticia.innerHTML = result;

    const divFotoNoticia = document.getElementById('fotoNoticia'); 
    const srcFoto =  "../../" + artigo.fotoNoticia;
    var result = "<div class='col-md-8'>";
            result += "<img class='w-100' src='"+srcFoto+"'";
            result += "alt='"+artigo.tituloDaNoticia+"' />"
            result += "<div class='text-legenda-noticia' >Reprodução/SINAEG</div>";
        result += "</div>";	
    divFotoNoticia.innerHTML = result;

}

